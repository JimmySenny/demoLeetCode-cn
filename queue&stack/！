#include <stdio.h>

int direction[4][2] = { {-1, 0 },    /* 上 */
                        { 1, 0 },    /* 下 */
                        { 0,-1 },    /* 左 */
                        { 0, 1 } };  /* 右 */

void dfs( char** grid, int row, int col, int gridSize, int* gridColSize ){

    printf ( "dfs_grid[%d][%d-%d-%d-%d]\n", grid[row][col],row,col, gridSize, gridColSize[0] );
    if( 1 != grid[row][col] ){
        return;
    }

    grid[row][col] = 2;

    printf( "dfs-up\n" );
    /* 上方 */
    if( 0 < row && 1 == grid[row - 1][col] ){
        printf( "up[%d-%d]\n", row-1,col );
        dfs(grid, row-1, col, gridSize, gridColSize);
    }
    printf( "dfs-down\n" );
    /* 下方 */
    if( gridSize >( row + 1 ) && 1 == grid[row + 1][col] ){
        printf( "down[%d-%d]\n", row+1, col );
        dfs(grid, row+1, col, gridSize, gridColSize);
    }
    printf( "dfs-left\n" );
    /* 左方 */
    if( 0 < col && 1 == grid[row][col-1] ){
        printf( "left[%d-%d]\n", row, col-1 );
        dfs(grid, row, col-1, gridSize, gridColSize);
    }
    printf( "dfs-rigth\n" );
    /* 右方 */
    if( gridColSize[0] > (col+ 1) && 1 == grid[row][col+1] ){
        printf( "right[%d-%d]\n", row, col+1 );
        dfs(grid, row, col+1, gridSize, gridColSize);
    }

    return;
}
int numIsland( char **grid, int gridSize, int* gridColSize ){
    int num = 0;

    printf ( "grid_i_j[%d]\n", grid[0][0] );
    for( int i = 0; i < gridSize; i++ ){
        for( int j = 0; j < gridColSize[0]; j++ ){
            printf ( "i,j[%d,%d]\n", i,j );
            if( 1 == grid[i][j] ){
                num++;
                dfs(grid, i, j, gridSize, gridColSize);
            }
        }
    }

    printf ( "num[%d]\n", num );
    return num;
}
